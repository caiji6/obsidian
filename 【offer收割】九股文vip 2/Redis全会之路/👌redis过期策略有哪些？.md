Redis的过期策略主要有以下几种：
### **定时删除（Timed Deletion）**

- 当设置键的过期时间时，Redis会为该键创建一个定时器，当过期时间到达时自动删除该键。
- 优点：删除操作会在数据到期时立即进行，确保内存及时释放。
- 缺点：定时器的管理会消耗系统资源，特别是在大量键设置过期时间的情况下。
### **惰性删除（Lazy Deletion）**

- Redis不会在键过期时立即删除它，而是在访问键时检查其是否过期，然后删除过期的键。
- 优点：惰性删除不会增加额外的系统开销，只在访问时进行检查。
- 缺点：如果某个键永远不会被访问，即使设置了过期时间，它也不会被自动删除。
### **定期删除（Periodic Deletion）**

- Redis会定期扫描数据库中的键，并删除其中已过期的键。
- Redis通过随机抽取一定数量的键，并检查它们是否过期，从而避免一次性检查大量键而导致性能下降。
- Redis默认每隔100ms（可以通过配置文件中的hz参数进行调整）就执行一次过期扫描任务。
- 优点：通过限制删除操作执行的时长和频率来减少删除操作对CPU的影响，同时能有效释放过期键占用的内存。
- 缺点：难以确定删除操作执行的时长和频率，如果执行的太频繁，会对CPU造成负担；如果执行的太少，则过期键长时间占用的内存没有及时释放。

当Redis的内存达到最大限制时，还会触发内存驱逐策略，以确定哪些数据会被删除以腾出空间。这些驱逐策略包括：<br />noeviction：禁止驱逐，达到内存限制时拒绝新的写请求。<br />allkeys-lru：从所有键中驱逐最近最少使用的键。<br />volatile-lru：从设置了过期时间的键中驱逐最近最少使用的键。<br />allkeys-random：从所有键中随机驱逐键。<br />volatile-random：从设置了过期时间的键中随机驱逐键。<br />volatile-ttl：从设置了过期时间的键中驱逐剩余时间最短的键。
