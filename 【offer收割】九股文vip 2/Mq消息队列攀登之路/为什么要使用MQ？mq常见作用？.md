# 👌为什么要使用MQ？mq常见作用？

[此处为语雀卡片，点击链接查看](https://www.yuque.com/jingdianjichi/xyxdsi/dxu7kspaxx8hs3vn#szzAQ)

# 口语化回答
好的，面试官。随着业务不断发展，业务逻辑也会变得越来越复杂，比如用户下完订单会自动参与各种优惠活动或送优惠券 经常也会发送微信通知或者系统通知等等操作，如果都将逻辑写在下单那么系统将变得难以维护，MQ通过异步处理的机制将这些与核心逻辑无关的业务处理放到其他服务或者其他模块，实现了功能之间的解耦。

另外当我们面临大量流量一瞬间打入的时候系统可能很难抗住高并发，那么就可以通过只处理核心逻辑或者先记录这些请求，由MQ来异步处理或者实现延迟处理，实现了流量的削峰。

以上。

# 题目解析
这是一道基础必会题，是使用和学习MQ的原因。结合MQ的使用场景学习

# 面试得分点
MQ核心的是系统解耦和流量削峰，针对这两点举一些如果不用MQ的痛点。

# 题目详细答案
#### 1.**解耦**
消息队列可以让不同的系统或服务之间解耦。发送者只需将消息发送到队列中，而不需要了解消息的接收者是谁或如何处理消息。接收者可以独立地从队列中读取消息并处理。这样，发送者和接收者可以独立地开发、部署和扩展。

**示例：** 在一个电商平台中，用户下单后，订单服务将订单信息发送到消息队列，支付服务、库存服务和通知服务可以独立地从队列中读取订单信息并进行相应处理，而不需要订单服务直接调用这些服务。

#### 2.**异步处理**
通过消息队列，可以将一些耗时的操作异步处理，从而提高系统的响应速度和用户体验。例如，用户注册后发送欢迎邮件，这个操作可以异步处理，用户不需要等待邮件发送完成。

**示例：** 用户注册后，注册服务将用户信息发送到消息队列，邮件服务从队列中读取消息并发送欢迎邮件。用户可以立即得到注册成功的反馈，而不需要等待邮件发送完成。

#### 3.**削峰填谷**
在高并发场景下，消息队列可以用来缓冲突发流量，防止系统过载。通过将突发的请求放入队列中，系统可以平稳地处理请求，避免因瞬时高并发导致系统崩溃。

**示例：** 在秒杀活动中，订单请求量可能会在短时间内激增。将订单请求放入消息队列，后端服务可以按自己的处理能力从队列中读取请求并处理，从而避免因瞬时高并发导致系统崩溃。

#### 4.**可靠性**
消息队列通常提供消息持久化和重试机制，确保消息不会丢失。这对于需要保证消息传递可靠性的场景非常重要。

**示例：** 在金融交易系统中，交易请求需要确保不丢失。通过消息队列的持久化和重试机制，可以确保交易请求可靠地传递和处理。





> 原文: <https://www.yuque.com/jingdianjichi/xyxdsi/dxu7kspaxx8hs3vn>