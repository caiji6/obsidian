# 什么是索引下推？

# 题目详细答案
索引下推（Index Pushdown）是一种优化查询性能的技术，主要用于数据库系统中，以减少不必要的数据访问和提升查询效率。

## 索引下推的概念
在传统的索引扫描过程中，数据库通常会先通过索引定位到符合条件的记录位置，然后再回表（访问实际数据行）进行进一步的过滤。这可能导致读取大量不必要的数据。

索引下推通过在索引扫描阶段提前应用部分查询条件，从而减少回表次数和读取的数据量。具体来说：

**提前过滤**：在索引扫描时，尽可能多地应用查询条件，以减少需要回表的记录数量。

**减少I/O操作**：通过减少回表次数，降低磁盘I/O负担，提高查询速度。

## 应用场景
索引下推在以下情况下特别有效：

**复合索引**：对于包含多个列的复合索引，索引下推可以在索引扫描阶段应用非索引前缀列的过滤条件。

**范围查询**：在进行范围查询时，可以通过索引下推减少不必要的数据访问。

## 示例 Demo
假设有一个表`Employees`，包含索引`idx_name_age`，索引列为`name`和`age`。如果执行如下查询：

```sql
SELECT * FROM Employees WHERE name ='Alice' AND age >30;
```

在没有索引下推的情况下，数据库会通过索引找到所有`name = 'Alice'`的记录，然后回表检查`age > 30`的条件。

使用索引下推后，数据库可以在索引扫描阶段就应用`age > 30`的条件，从而减少回表的次数。

索引下推是现代数据库优化技术中的重要组成部分，特别是在处理大数据量和复杂查询时，能够显著提升性能。



> 原文: <https://www.yuque.com/jingdianjichi/xyxdsi/gpld8c01csg2t8vi>