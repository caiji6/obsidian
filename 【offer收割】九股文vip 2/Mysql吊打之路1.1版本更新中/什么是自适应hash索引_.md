# 什么是自适应hash索引?

# 题目详细答案
自适应哈希索引是InnoDB存储引擎的一项独特性能优化特性，旨在针对高频访问的热点数据提升查询效率。与传统的静态哈希索引不同，自适应哈希索引采纳了一种自动化、动态调整的机制：InnoDB自主监控查询模式及数据访问频次，据此智能决策哈希索引的创建与否，并能依据数据集变动及查询模式的演进灵活地调整索引结构，无需人工介入。  
其运作机理如下：当InnoDB检测到特定索引键值频繁遭受等值查询操作，系统便会在内存中自发为这些热点键值生成哈希索引，以此来加速后续的等值查询响应时间。这一系列优化行为均在后台自动执行，无需用户的直接参与或配置。

## 优点
自动优化：自适应哈希索引会自己悄悄地建立和打理，你不需要专门去做什么或者管它。  
性能提升：在找一些特定相同值的时候，这个自适应哈希索引能大大加快寻找速度，它的查找速度超级快，差不多是瞬间完成的（专业点说就是查询时间是O(1)）。  
省资源：它还减少了去二级索引树那里找信息的次数，这样就节约了系统资源。

## 缺点
**内存消耗**： 自适应哈希索引完全在内存中构建，需要足够的内存资源。

**不可预测性**：由于是基于运行时查询模式的，所以哈希索引的存在和组成是不可预测的。

**不适用于所有查询**：自适应哈希索引主要优化等值查询，对于范围查询或排序操作没有帮助。

**hash自适应索引会占用innodb buffer pool；**

总的来说，自适应哈希索引是 InnoDB 存储引擎为了提高特定类型查询性能而自动构建的一种内存中的哈希索引结构。它可以根据查询模式和数据访问频率自动调整，以优化数据库的性能。



> 原文: <https://www.yuque.com/jingdianjichi/xyxdsi/ztge0bowkd7gnhag>