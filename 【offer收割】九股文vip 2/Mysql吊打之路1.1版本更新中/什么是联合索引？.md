# 什么是联合索引？

# 题目详细答案
联合索引（Composite Index）是数据库中的一个概念，它指的是在数据库表中的多个列上创建的索引。与单列索引不同，单列索引只涉及一个列，联合索引会根据多个列的值来排序和搜索数据。  
使用联合索引的主要目的是提高数据库查询的效率。当查询条件中涉及到多个列时，如果这些列都有联合索引，那么数据库引擎可以更快地定位到所需的行。

数据库系统在执行查询时，可以利用联合索引来同时过滤掉不符合多个条件的行，尤其是当查询条件中包含了联合索引的所有前列时，效率最高。这是因为数据库系统能够直接在索引中定位到满足所有条件的数据，而无需回表（即避免了再次访问实际的数据行）来检查其他条件，这样就减少了磁盘I/O操作，加快了查询速度。

  
创建联合索引时，列的排列顺序也很重要，因为数据库系统会优先考虑索引中的最左前缀原则。这意味着在使用联合索引进行查询时，从索引中的第一个列开始的查询条件将会被最有效地利用。如果查询条件没有按照索引定义的列顺序给出，那么部分或全部索引可能无法发挥作用，从而影响查询性能。

## 注意点
1. **索引列的顺序**：在创建联合索引时，列的顺序非常重要。通常，应该将选择性最高的列（即具有大量唯一值的列）放在索引的最前面。
2. **查询优化**：当执行涉及索引中所有列的查询时，联合索引最有效。如果查询只涉及部分列，那么索引可能不会被充分利用。
3. **覆盖查询**：如果一个查询可以仅通过索引中的列来获取所需的所有数据，而不需要访问表中的实际行，这样的查询称为“覆盖查询”，它可以大大提高查询性能。

## 创建联合索引
假设有一个 student 表，其结构如下：

```sql
CREATE TABLE student (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255),
  sex INT(11)
);
```

如果我们希望对 name,sex 列创建联合索引，可以使用如下的SQL语句：

```sql
CREATE INDEX idx_union_name ON student (name,sex);
```





> 原文: <https://www.yuque.com/jingdianjichi/xyxdsi/icp02hc8d5eww2g4>