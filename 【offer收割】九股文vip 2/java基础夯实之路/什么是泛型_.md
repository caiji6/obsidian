# ğŸ‘Œä»€ä¹ˆæ˜¯æ³›å‹?

# é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ
æ³›å‹ï¼ˆGenericsï¼‰æ˜¯Javaä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç±»ã€æ¥å£å’Œæ–¹æ³•æ“ä½œæŒ‡å®šç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸å¿…æŒ‡å®šå…·ä½“çš„ç±»å‹ã€‚æ³›å‹æä¾›äº†ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥å®šä¹‰æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œä½¿ä»£ç æ›´åŠ é€šç”¨å’Œçµæ´»ï¼ŒåŒæ—¶å‡å°‘äº†ç±»å‹è½¬æ¢å’Œç±»å‹æ£€æŸ¥çš„é”™è¯¯ã€‚

## ä¸»è¦ä½œç”¨
**1ã€ ç±»å‹å®‰å…¨**ï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œé¿å…äº†è¿è¡Œæ—¶çš„ClassCastExceptionã€‚

**2ã€ ä»£ç é‡ç”¨**ï¼šé€šè¿‡æ³›å‹ï¼Œå¯ä»¥ç¼–å†™æ›´åŠ é€šç”¨çš„ä»£ç ï¼Œè€Œä¸å¿…ä¸ºæ¯ç§æ•°æ®ç±»å‹ç¼–å†™é‡å¤çš„ä»£ç ã€‚

## æ³›å‹ç±»
æ³›å‹ç±»æ˜¯åœ¨ç±»å®šä¹‰ä¸­ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å‚æ•°ã€‚ç±»å‹å‚æ•°åœ¨ç±»å®ä¾‹åŒ–æ—¶è¢«æŒ‡å®šã€‚

```plain
public class Box<T> {
    private T value;

    public void setValue(T value) {
        this.value = value;
    }

    public T getValue() {
        return value;
    }

    public static void main(String[] args) {
        Box<String> stringBox = new Box<>();
        stringBox.setValue("Hello");
        System.out.println(stringBox.getValue());

        Box<Integer> integerBox = new Box<>();
        integerBox.setValue(123);
        System.out.println(integerBox.getValue());
    }
}
```

## æ³›å‹æ–¹æ³•
æ³›å‹æ–¹æ³•æ˜¯åœ¨æ–¹æ³•å®šä¹‰ä¸­ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œç±»å‹å‚æ•°åœ¨æ–¹æ³•è°ƒç”¨æ—¶è¢«æŒ‡å®šã€‚

```plain
public class GenericMethodExample {
    public static <T> void printArray(T[] array) {
        for (T element : array) {
            System.out.print(element + " ");
        }
        System.out.println();
    }

    public static void main(String[] args) {
        Integer[] intArray = {1, 2, 3, 4, 5};
        String[] stringArray = {"Hello", "World"};

        printArray(intArray);
        printArray(stringArray);
    }
}
```

## æ³›å‹æ¥å£
æ³›å‹æ¥å£æ˜¯åœ¨æ¥å£å®šä¹‰ä¸­ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œç±»å‹å‚æ•°åœ¨æ¥å£å®ç°æ—¶è¢«æŒ‡å®šã€‚

```plain
interface Pair<K, V> {
    K getKey();
    V getValue();
}

class OrderedPair<K, V> implements Pair<K, V> {
    private K key;
    private V value;

    public OrderedPair(K key, V value) {
        this.key = key;
        this.value = value;
    }

    public K getKey() {
        return key;
    }

    public V getValue() {
        return value;
    }

    public static void main(String[] args) {
        Pair<String, Integer> pair = new OrderedPair<>("One", 1);
        System.out.println(pair.getKey() + " : " + pair.getValue());
    }
}
```

## æ³›å‹çš„é™åˆ¶
**1ã€ åŸºæœ¬ç±»å‹**ï¼šæ³›å‹ä¸æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚intã€charç­‰ï¼‰ï¼Œåªèƒ½ä½¿ç”¨å…¶å¯¹åº”çš„åŒ…è£…ç±»ï¼ˆå¦‚Integerã€Characterç­‰ï¼‰ã€‚

**2ã€ ç±»å‹æ“¦é™¤**ï¼šJavaçš„æ³›å‹æ˜¯é€šè¿‡ç±»å‹æ“¦é™¤å®ç°çš„ï¼Œè¿™æ„å‘³ç€åœ¨è¿è¡Œæ—¶ï¼Œæ³›å‹ç±»å‹ä¿¡æ¯ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰æ³›å‹ç±»å‹éƒ½è¢«æ›¿æ¢ä¸ºå…¶åŸå§‹ç±»å‹ï¼ˆé€šå¸¸æ˜¯Objectï¼‰ã€‚è¿™é™åˆ¶äº†æŸäº›æ“ä½œï¼Œå¦‚åˆ›å»ºæ³›å‹æ•°ç»„ã€‚

**3ã€ é™æ€ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨æ³›å‹**ï¼šä¸èƒ½åœ¨é™æ€å­—æ®µæˆ–é™æ€æ–¹æ³•ä¸­ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œå› ä¸ºç±»å‹å‚æ•°æ˜¯åœ¨å®ä¾‹åŒ–æ—¶æ‰æŒ‡å®šçš„ï¼Œè€Œé™æ€æˆå‘˜ä¸å…·ä½“å®ä¾‹æ— å…³ã€‚

### ç¤ºä¾‹ï¼ˆç±»å‹æ“¦é™¤ï¼‰
```plain
public class TypeErasureExample {
    public static void main(String[] args) {
        Box<String> stringBox = new Box<>();
        Box<Integer> integerBox = new Box<>();

        // åœ¨è¿è¡Œæ—¶ï¼ŒstringBoxå’ŒintegerBoxçš„ç±»å‹ä¿¡æ¯éƒ½è¢«æ“¦é™¤ï¼Œå˜ä¸ºBox<Object>
        System.out.println(stringBox.getClass() == integerBox.getClass()); // true
    }
}
```



> åŸæ–‡: <https://www.yuque.com/jingdianjichi/xyxdsi/re847dguttn3t1nw>