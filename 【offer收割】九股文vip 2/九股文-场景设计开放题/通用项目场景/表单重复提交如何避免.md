# 表单重复提交如何避免

### 使用Token机制
**CSRF Token**：在表单中加入一个隐藏的唯一Token，提交时服务器验证Token的有效性。

**实现步骤**：

1、在表单页面生成一个唯一Token，并将其存储在用户的Session中。

2、将Token作为隐藏字段包含在表单中。

3、提交时，服务器验证Token是否匹配，并在使用后删除或更新Token。

### 使用重定向模式 (Post/Redirect/Get)
**原理**：在处理完表单提交后，使用重定向跳转到结果页面。

**实现步骤**：

1、用户提交表单后，服务器处理请求。

2、处理完成后，服务器返回一个重定向响应。

3、浏览器重定向到新页面，防止用户刷新导致的重复提交。

### 禁用提交按钮
**原理**：在用户提交表单后，立即禁用提交按钮。

**实现步骤**：

1、使用JavaScript在表单提交时禁用按钮。

2、确保在服务器响应之前，用户无法再次点击提交。

### 设置请求头
**原理**：在请求中设置自定义请求头来标识每个请求。

**实现步骤**：

1、在客户端生成一个唯一标识符并添加到请求头。

2、服务器验证并跟踪请求头信息，防止重复处理。

### Session锁
**原理**：在处理表单时锁定用户的Session，直到处理完成。

**实现步骤**：

1、在服务器端处理请求时，检查并锁定Session。

2、处理完成后，释放Session锁。

选择合适的方法可以根据具体的项目需求和技术栈来实现，有时可能需要结合多种方法以达到最佳效果。



> 原文: <https://www.yuque.com/jingdianjichi/xyxdsi/mlqx42zoiqg3okf3>