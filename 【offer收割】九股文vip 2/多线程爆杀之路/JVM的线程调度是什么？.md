# ðŸ‘ŒJVMçš„çº¿ç¨‹è°ƒåº¦æ˜¯ä»€ä¹ˆï¼Ÿ

# é¢˜ç›®è¯¦ç»†ç­”æ¡ˆ
çº¿ç¨‹è°ƒåº¦æ˜¯æŒ‡ JVM å¦‚ä½•ç®¡ç†å’Œåˆ†é… CPU æ—¶é—´ç»™å„ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹è°ƒåº¦ç­–ç•¥ç›´æŽ¥å½±å“åˆ°å¤šçº¿ç¨‹ç¨‹åºçš„æ€§èƒ½å’Œå“åº”æ€§ã€‚JVM çš„çº¿ç¨‹è°ƒåº¦ä¸»è¦ä¾èµ–äºŽåº•å±‚æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹è°ƒåº¦æœºåˆ¶ã€‚

## çº¿ç¨‹è°ƒåº¦çš„åŸºæœ¬æ¦‚å¿µ
çº¿ç¨‹è°ƒåº¦æ˜¯æŒ‡ JVM é€‰æ‹©æŸä¸ªçº¿ç¨‹æ¥èŽ·å¾— CPU æ—¶é—´ç‰‡çš„è¿‡ç¨‹ã€‚åˆ†ä¸ºä¸¤ç§ç±»åž‹ï¼š

1. **æŠ¢å å¼è°ƒåº¦**ï¼šæ“ä½œç³»ç»Ÿæ ¹æ®çº¿ç¨‹çš„ä¼˜å…ˆçº§å’Œå…¶ä»–å› ç´ ï¼Œå¼ºåˆ¶ä¸­æ–­æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œå¹¶å°† CPU åˆ†é…ç»™å¦ä¸€ä¸ªçº¿ç¨‹ã€‚
2. **åä½œå¼è°ƒåº¦**ï¼šçº¿ç¨‹ä¸»åŠ¨æ”¾å¼ƒ CPU ä½¿ç”¨æƒï¼Œæ“ä½œç³»ç»Ÿä¸ä¼šå¼ºåˆ¶ä¸­æ–­çº¿ç¨‹ã€‚

é€šå¸¸ä½¿ç”¨æŠ¢å å¼è°ƒåº¦ã€‚

## JVM å’Œæ“ä½œç³»ç»Ÿçš„å…³ç³»
JVM çš„çº¿ç¨‹è°ƒåº¦ä¾èµ–äºŽæ“ä½œç³»ç»Ÿçš„è°ƒåº¦å™¨ã€‚JVM å°† Java çº¿ç¨‹æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å®žé™…çš„çº¿ç¨‹è°ƒåº¦ã€‚å› æ­¤ï¼ŒJVM çš„çº¿ç¨‹è°ƒåº¦è¡Œä¸ºåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºŽåº•å±‚æ“ä½œç³»ç»Ÿã€‚

## çº¿ç¨‹è°ƒåº¦ç­–ç•¥
#### æ—¶é—´ç‰‡è½®è½¬
åœ¨æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç­–ç•¥ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æŒ‰é¡ºåºèŽ·å¾—ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ—¶é—´ç‰‡ï¼Œå½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œè°ƒåº¦å™¨å°† CPU åˆ†é…ç»™ä¸‹ä¸€ä¸ªçº¿ç¨‹ã€‚è¿™ç§æ–¹å¼ç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰æœºä¼šè¿è¡Œã€‚

#### ä¼˜å…ˆçº§è°ƒåº¦
åœ¨ä¼˜å…ˆçº§è°ƒåº¦ç­–ç•¥ä¸­ï¼Œè°ƒåº¦å™¨ä¼˜å…ˆé€‰æ‹©é«˜ä¼˜å…ˆçº§çº¿ç¨‹è¿è¡Œã€‚å¦‚æžœæœ‰å¤šä¸ªåŒç­‰ä¼˜å…ˆçº§çš„çº¿ç¨‹ï¼Œåˆ™ä½¿ç”¨æ—¶é—´ç‰‡è½®è½¬ç­–ç•¥ã€‚

## çº¿ç¨‹è°ƒåº¦ Demo
```plain
public class ThreadSchedulingExample {
    public static void main(String[] args) {
        Runnable task = () -> {
            for (int i = 0; i < 5; i++) {
                System.out.println(Thread.currentThread().getName() + " is running");
                try {
                    Thread.sleep(100); // æ¨¡æ‹Ÿå·¥ä½œ
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        };

        Thread t1 = new Thread(task, "Thread-1");
        Thread t2 = new Thread(task, "Thread-2");

        t1.setPriority(Thread.MIN_PRIORITY);
        t2.setPriority(Thread.MAX_PRIORITY);

        t1.start();
        t2.start();
    }
}
```

Thread-2æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œå®ƒæ›´æœ‰å¯èƒ½èŽ·å¾— CPU æ—¶é—´ç‰‡ã€‚

## å¸¸è§çš„çº¿ç¨‹è°ƒåº¦é—®é¢˜
#### çº¿ç¨‹é¥¥é¥¿
çº¿ç¨‹é¥¥é¥¿å‘ç”Ÿåœ¨ä½Žä¼˜å…ˆçº§çº¿ç¨‹é•¿æ—¶é—´å¾—ä¸åˆ° CPU æ—¶é—´ç‰‡çš„æƒ…å†µä¸‹ã€‚è¿™å¯èƒ½æ˜¯ç”±äºŽé«˜ä¼˜å…ˆçº§çº¿ç¨‹é¢‘ç¹å ç”¨ CPU èµ„æºæ‰€è‡´ã€‚

#### æ´»é”
æ´»é”ç±»ä¼¼äºŽæ­»é”ï¼Œä½†çº¿ç¨‹å¹¶æœªçœŸæ­£é˜»å¡žï¼Œè€Œæ˜¯ä¸æ–­åœ°æ”¹å˜çŠ¶æ€ï¼Œæ— æ³•ç»§ç»­æ‰§è¡Œã€‚æ´»é”é€šå¸¸å‘ç”Ÿåœ¨çº¿ç¨‹é¢‘ç¹å“åº”å½¼æ­¤çš„åŠ¨ä½œæ—¶ã€‚

## çº¿ç¨‹è°ƒåº¦ä¼˜åŒ–
+ **åˆç†è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§**ï¼šé¿å…æ‰€æœ‰çº¿ç¨‹éƒ½è®¾ç½®ä¸ºæœ€é«˜ä¼˜å…ˆçº§ï¼Œåˆç†åˆ†é…ä¼˜å…ˆçº§ä»¥é¿å…é¥¥é¥¿é—®é¢˜ã€‚
+ **å‡å°‘é”ç«žäº‰**ï¼šå°½é‡å‡å°‘çº¿ç¨‹ä¹‹é—´çš„é”ç«žäº‰ï¼Œä½¿ç”¨æ›´ç»†ç²’åº¦çš„é”æˆ–æ— é”æ•°æ®ç»“æž„ã€‚
+ **ä½¿ç”¨çº¿ç¨‹æ± **ï¼šé€šè¿‡java.util.concurrentåŒ…ä¸­çš„çº¿ç¨‹æ± æ¥ç®¡ç†çº¿ç¨‹ï¼Œé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹å¸¦æ¥çš„å¼€é”€ã€‚



> åŽŸæ–‡: <https://www.yuque.com/jingdianjichi/xyxdsi/gc9kt8segeue3awn>